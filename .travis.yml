before_install:
  - chmod +x mvnw
language: java
jdk:
  - oraclejdk8
services:
  - mysql

addons:
  apt:
    sources:
      - mysql-5.7-trusty
    packages:
      - mysql-server

dist: trusty

sudo: required

before_script:
- mysql -u root -e 'CREATE DATABASE talks;'
- mysql -u root -e "CREATE USER 'springuser'@'localhost' IDENTIFIED BY 'springuser';"
- mysql -u root -e "GRANT ALL ON talks.* TO 'springuser'@'localhost';"

script: mvn clean verify
after_success:
  - bash <(curl -s https://codecov.io/bash)
notifications:
  email: false